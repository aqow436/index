<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SERVERUS :: Final Protocol [FIXED]</title>
    <style>
        :root {
            --main-color: #ffffff;
            --bg-color: #000;
            --danger-color: #ff003c;
            --success-color: #00ff41;
            --briefing-color: #00e5ff;
            --scrollbar-bg: #1a1a1a;
            --scrollbar-thumb: var(--briefing-color);
        }

        body {
            background-color: var(--bg-color);
            color: var(--main-color);
            font-family: 'monospace', 'Courier New', Courier;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden; /* Səhifənin özünün scroll olmaması üçün */
            text-align: center;
        }

        /* --- Giriş Ekranı --- */
        #intro-screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100;
            display: flex; justify-content: center; align-items: center;
            transition: opacity 1.5s ease-out;
            background: linear-gradient(-45deg, #f72585, #7209b7, #3a0ca3, #4361ee, #4cc9f0);
            background-size: 400% 400%; animation: gradient-bg 15s ease infinite;
        }
        @keyframes gradient-bg { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        #intro-screen.shake { animation: screen-shake 0.5s ease-out; }
        #intro-text {
            font-family: 'Century Gothic', 'Futura', 'Gill Sans', sans-serif;
            font-size: clamp(2rem, 12vw, 8rem); font-weight: 600; text-transform: uppercase;
            letter-spacing: 0.2em; color: var(--main-color);
            text-shadow: 0 0 15px #fff, 0 0 30px #00c3ff; opacity: 0;
        }
        #intro-text.stamped { animation: stamp-effect 0.6s forwards; }
        #shockwave { position: absolute; width: 1px; height: 1px; border: 3px solid var(--main-color); border-radius: 50%; opacity: 1; transform: scale(0); }
        #shockwave.active { animation: shockwave-effect 0.6s ease-out forwards; }
        @keyframes stamp-effect { 0% { opacity: 0; transform: scale(3.5) rotate(-15deg); } 30% { opacity: 1; transform: scale(0.9) rotate(3deg); color: var(--danger-color); text-shadow: 3px 3px 0 #00c3ff, -2px -2px 0 #f72585; } 50% { transform: scale(1.1) rotate(-2deg); color: var(--main-color); text-shadow: 0 0 15px #fff, 0 0 30px #00c3ff;} 100% { opacity: 1; transform: scale(1) rotate(0deg); } }
        @keyframes shockwave-effect { from { opacity: 1; transform: scale(0); } to { opacity: 0; transform: scale(500); } }
        @keyframes screen-shake { 0%, 100% { transform: translate(0, 0) rotate(0); } 20% { transform: translate(-5px, 3px) rotate(-1deg); } 40% { transform: translate(5px, -3px) rotate(1deg); } 60% { transform: translate(-5px, 3px) rotate(0deg); } 80% { transform: translate(5px, -3px) rotate(-1deg); } }

        /* --- Əsas Simulyasiya --- */
        #container {
            display: none; position: relative; width: 640px; height: 480px;
            border: 3px solid var(--success-color); box-shadow: 0 0 20px var(--success-color), inset 0 0 20px var(--success-color);
            background: #000500; overflow: hidden;
        }
        #data-stream { position: absolute; top: 0; left: 0; width: 100%; height: 100%; color: #003300; font-size: 12px; word-break: break-all; opacity: 0.7; user-select: none; }
        #overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.9) 100%); }
        .scanner-line { position: absolute; top: 0; left: 0; width: 100%; height: 3px; background: linear-gradient(90deg, transparent, #ff0000, transparent); animation: scan 3s linear infinite; }
        @keyframes scan { 0% { top: 0; } 50% { top: 99%; } 100% { top: 0; } }
        #instruction-text { position: absolute; bottom: 20px; width: 100%; font-size: 1.5em; text-shadow: 0 0 10px var(--success-color); font-weight: bold; color: var(--success-color); }
        
        /* --- Final Ekranları (Uğur, Xəta, Məlumat) --- */
        .final-screen {
            display: none;
            flex-direction: column; justify-content: center; align-items: center;
            width: 100%; height: 100%;
            position: absolute; top: 0; left: 0;
            z-index: 50;
        }
        #failure-text { color: var(--danger-color); font-size: 2em; text-shadow: 0 0 10px var(--danger-color); margin-bottom: 30px; animation: text-flicker 3s infinite; }
        @keyframes text-flicker { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        #retry-button { font-family: 'monospace'; font-size: 1.5em; background: transparent; border: 2px solid var(--danger-color); color: var(--danger-color); padding: 10px 20px; cursor: pointer; transition: background 0.3s, color 0.3s; }
        #retry-button:hover { background: var(--danger-color); color: var(--bg-color); }
        #success-message { font-size: 2.5em; padding: 20px; border: 2px solid var(--success-color); background: rgba(0, 20, 0, 0.7); color: var(--success-color); text-shadow: 0 0 15px var(--success-color); }
        
        /* --- Məxfi Məlumat stilləri və SCROLL --- */
        #mission-briefing {
            width: 80%; max-width: 900px;
            background: rgba(0, 5, 10, 0.85);
            border: 1px solid var(--briefing-color);
            padding: 20px; margin-top: 20px;
            text-align: left;
            max-height: 65vh; /* EKRANIN 65%-İ QƏDƏR HÜNDÜRLÜK */
            overflow-y: auto; /* TƏLƏB OLDUQDA VERTIKAL SCROLL */
        }
        .briefing-header { color: var(--briefing-color); text-shadow: 0 0 5px var(--briefing-color); margin-bottom: 15px; border-bottom: 1px solid var(--briefing-color); padding-bottom: 10px; }
        .briefing-text { margin: 10px 0; line-height: 1.6; }
        .cursor { display: inline-block; width: 10px; height: 1.2em; background: var(--briefing-color); animation: blink 1s steps(2, start) infinite; vertical-align: bottom; }
        @keyframes blink { to { visibility: hidden; } }

        /* Scrollbar stilləri */
        #mission-briefing::-webkit-scrollbar { width: 8px; }
        #mission-briefing::-webkit-scrollbar-track { background: var(--scrollbar-bg); }
        #mission-briefing::-webkit-scrollbar-thumb { background-color: var(--scrollbar-thumb); border-radius: 4px; }
    </style>
</head>
<body>
    <div id="intro-wrapper"><div id="intro-screen"><div id="shockwave"></div><div id="intro-text">SERVERUS Claim</div></div></div>
    <div id="container"><div id="data-stream"></div><div id="overlay"><div class="scanner-line"></div><div id="instruction-text"></div></div></div>
    <div class="final-screen" id="failure-screen-wrapper"><div id="failure-text">>> XƏTA: KENAR SƏSLƏR MÜŞAHİDƏ OLUNUR</div><button id="retry-button">YENİDƏN CƏHD EDİN</button></div>
    <div class="final-screen" id="success-screen-wrapper">
        <div id="success-message">IDENTITET TƏSDİQLƏNDİ: ALİM</div>
        <div id="mission-briefing" style="display: none;">
            <h3 class="briefing-header" id="briefing-header-id"></h3><div id="briefing-content"></div>
        </div>
    </div>

    <script>
        function getElements() { return { introWrapper: document.getElementById('intro-wrapper'), introScreen: document.getElementById('intro-screen'), introText: document.getElementById('intro-text'), shockwave: document.getElementById('shockwave'), container: document.getElementById('container'), instructionText: document.getElementById('instruction-text'), successWrapper: document.getElementById('success-screen-wrapper'), successMessage: document.getElementById('success-message'), failureWrapper: document.getElementById('failure-screen-wrapper'), retryButton: document.getElementById('retry-button'), missionBriefing: document.getElementById('mission-briefing'), briefingHeader: document.getElementById('briefing-header-id'), briefingContent: document.getElementById('briefing-content'), dataStream: document.getElementById('data-stream') }; }
        let isFirstAttempt = true;
        const originalIntroHTML = document.getElementById('intro-wrapper').innerHTML;
        const mainSimulationSteps = [ { text: ">> Bağlantı qurulur... Şifrələmə açarı axtarılır...", duration: 2500 }, { text: ">> L7 firewall bypass edilir... [OK]", duration: 2000 }, { text: ">> Kernelə giriş əldə edildi. Root imtiyazları yoxlanılır...", duration: 3000 }, { text: ">> Biometrik hash-lər müqayisə edilir...", duration: 2500 }, { text: ">> Hədəf sistemi: 'ALİM'. Prioritet: ALFA.", duration: 3500 }, { text: ">> Son təhlükəsizlik qatı qırılır...", duration: 2000 } ];
        const briefingHeader_text = "// INCOMING TRANSMISSION / MƏXFİ MƏLUMAT //";
        const briefing_data = [ "Alim Salam!", "سلام علیم!", "Xaiş edirəm diqqətlə dinlə!", "لطفاً با دقت گوش کن!", "Ümüdvaram ki, Aqil sənə məlumat verib, dün gecə Cənab N.O-nun tapşırıqına əsasən, Bashir Cənabla - Robert dəyiş tokuş edilib.", "امیدوارم آقیل به تو اطلاع داده باشد، طبق دستور شب گذشته جناب ن.ا، بشیر جان با رابرت تعویض شده‌اند.", "Dəyişdirilmənində ən əsas səbəbi Robertin hərşeydən xəbərdar olması və dindirilə bilməsi ilə nəticələnəcəyi üçün idi.", "دلیل اصلی این تعویض، آگاهی کامل رابرت از همه چیز و امکان بازجویی از او بود.", "Bashir Cənabın üzrəinə daxildən, doktor tərəfindən yerləşdirilmiş sadəcə vizual görünüş üçün yerləşdirilmiş plantasiya tərkibli bombalar yerləşdirilmişdi.", "بر روی بدن جناب بشیر، بمب‌هایی با ترکیب گیاهی توسط دکتر، به صورت داخلی و تنها برای ظاهر قرار داده شده بودند.", "Plan isə, dəyişdirilmə zamanı yoxlamağa şərait yaratmayacaq şəkildə dəyiş tokuş etmək idi və bunuda başardılar.", "برنامه این بود که تعویض بدون ایجاد فرصت برای بازرسی انجام شود، و در این کار موفق شدند.", "Bashir Cənab olduğu kimi şərəfsiz tayfasının içərisinə daxil olub, olduğdan sonra tapşırılan kimidə etdi.", "جناب بشیر همان‌گونه وارد گروه بی‌شرافت‌ها شد و طبق دستورات عمل کرد.", "Nəticə olaraq Cənabın ürəkli olması nəticəsinə ələ keçən bütün adamlarımız və şərəfsizlərə məxsus 4 kişi ələ keçdi.", "در نتیجه‌ی شجاعت جناب، تمامی افراد ما و چهار نفر از افراد آن بی‌شرم‌ها به دام افتادند.", "Pənah vəziyyətdə sui istifadə edərək yerindəcə olduğları yeri tərk edib.", "پناه در موقعیتی سوءاستفاده کرده و همانجا محل را ترک کرده است.", "Ancaq bizim uşağların atdığı güllə ilə sinəsindən yara alıb.", "اما با شلیک گلوله از سوی بچه‌های ما، از ناحیه سینه مجروح شده است.", "Üzərində telefon, və.s heçbir şey olmadığından indilik yerini təyin edə bilmirik, ancaq çox qaça bilməyəcək oda ələ keçəcək.", "چون هیچ وسیله‌ای از جمله تلفن همراه با خود نداشته، فعلاً نمی‌توانیم مکانش را مشخص کنیم، اما او هم زیاد نمی‌تواند فرار کند و به زودی دستگیر خواهد شد.", "Hərkəs yaxşıdır şükür, digər cənabıda yoldaşı və qızının yanında mərasimsiz şəkildə torpağa tapşırıldı.", "شکر خدا همه خوبند، و جناب دیگر نیز بدون مراسم در کنار همسر و دخترش به خاک سپرده شد.", "Hörmətli və dərin təəssüf hissi ilə ruhu qarşısında baş əyirik!", "با احترام و تأثر عمیق، در برابر روحش سر تعظیم فرود می‌آوریم!", "Gələk əsas məsələyə, sən artıq tapşırılan kimi göstəriş olunan yerə yaxınlaşaraq pulları götürə bilərsən.", "بپردازیم به موضوع اصلی؛ تو اکنون می‌توانی طبق دستور به محل مشخص‌شده نزدیک شده و پول‌ها را برداری.", "Sadəcə bir neçə gün daha səbr et bu şərəfsizdə ələ keçsin, gönül rahatlıqı ilə işini gör.", "فقط چند روز دیگر صبر کن تا آن بی‌شرم نیز دستگیر شود، سپس با خیال راحت کارت را انجام بده.", "Bir müddətlik Aqil bütün bunları bilməmək zorundadır, onunda əsas səbəbi Bölüm 4-dür.", "برای مدتی آقیل نباید از این مسائل خبر داشته باشد، دلیل اصلی آن نیز بخش ۴ است.", "Xırda işlər qalıb onlar xaricində bu məsələ N.O-nun köməyi ilə bitdi.", "فقط کارهای جزئی باقی مانده‌اند؛ به جز آن‌ها، این مسئله با کمک ن.ا خاتمه یافت.", "Aqillə danış sənə ünvanı dəqiq bilməyin üçün gərəkli olan xəritəni tezləşdirsin biz deyənə dək yerini əzbərlə zəhmət olmazsa.", "با آقیل صحبت کن تا نقشه‌ای که برای دانستن دقیق آدرس نیاز داری را سریع‌تر آماده کند، لطفاً تا آن زمان مکان را به‌خاطر بسپار.", "Pulları götürdükdən 2 gün sonra Sən və N.O-nun birbaşa görüşü olacaq.", "دو روز پس از دریافت پول‌ها، تو و ن.ا دیداری مستقیم خواهید داشت.", "Bu arada qardaşım çox şanslısan, Cənablar xaric onunla həmsöhbət olmaq heçkimə qismət olmayıb!", "در ضمن، برادرم، تو بسیار خوش‌شانسی؛ به جز جنابان، هیچ‌کس تا به حال افتخار گفتگو با او را نداشته است!" ];

        async function showBriefing() {
            const elements = getElements();
            elements.missionBriefing.style.display = 'block';
            await new Promise(resolve => setTimeout(resolve, 500));
            elements.briefingContent.innerHTML = '';
            
            for (const line of briefing_data) {
                const p = document.createElement('p');
                p.className = 'briefing-text';
                elements.briefingContent.appendChild(p);
                const cursor = '<span class="cursor"></span>';
                p.innerHTML = cursor;
                
                for (let i = 0; i < line.length; i++) {
                    p.innerHTML = line.substring(0, i + 1) + cursor;
                    await new Promise(resolve => setTimeout(resolve, 15));
                }
                p.innerHTML = line;
                elements.missionBriefing.scrollTop = elements.missionBriefing.scrollHeight; // Avtomatik aşağı scroll
            }
        }

        async function endSequence() {
            let elements = getElements();
            elements.container.style.display = 'none';
            if (isFirstAttempt) {
                elements.failureWrapper.style.display = 'flex';
            } else {
                elements.successWrapper.style.display = 'flex';
                await new Promise(resolve => setTimeout(resolve, 1000));
                showBriefing();
            }
        }

        async function startMainSimulation() {
            let elements = getElements();
            elements.container.style.display = 'block';
            const dataInterval = setInterval(() => {
                const chars = '01x§*?#@&^'; let content = '';
                for (let i = 0; i < 5000; i++) content += chars[Math.floor(Math.random() * chars.length)];
                elements.dataStream.textContent = content;
            }, 100);

            for (const step of mainSimulationSteps) {
                elements.instructionText.textContent = step.text;
                await new Promise(resolve => setTimeout(resolve, step.duration));
            }
            clearInterval(dataInterval);
            endSequence();
        }
        
        function runIntro() {
            let elements = getElements();
            setTimeout(() => {
                elements.introText.classList.add('stamped');
                elements.shockwave.classList.add('active');
                elements.introScreen.classList.add('shake');
                setTimeout(() => {
                    elements.introScreen.style.opacity = '0';
                    setTimeout(() => {
                        elements.introScreen.style.display = 'none';
                        startMainSimulation();
                    }, 1000);
                }, 2000);
            }, 1500);
        }
        
        getElements().retryButton.addEventListener('click', () => {
            isFirstAttempt = false;
            let elements = getElements();
            elements.failureWrapper.style.display = 'none';
            elements.introWrapper.innerHTML = '';
            elements.introWrapper.innerHTML = originalIntroHTML;
            runIntro();
        });

        window.onload = runIntro;
    </script>
</body>
</html>
